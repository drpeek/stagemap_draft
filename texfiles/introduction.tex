
Temporal event sequences, that is, ordered series of events which occur over time, appear in a wide range of domains such as website click streams, user interaction logs in software applications, electronic health records and car service records. Analyzing such data can help yield meaningful insights and therefore support decision making. For example, by analyzing user interaction logs, designers can identify users who contend with usability issues and then design interventions to improve user experience. Similarly, by analyzing the online learning click streams, instructors can better understand the learning behavior of students and improve the course design.  

Real world event sequences are often complex. A typical dataset can contain thousands or more distinct sequences with hundreds of distinct events. The length of each sequence can vary from a few to hundreds of events. Therefore, many existing visualization techniques are inadequate in directly presenting the data. Instead of visualizing the raw data, recent works have tried to visualize the summary of the data with the help of pattern mining models~\cite{stasko2000focus+,polack2015timestitch,perer2014frequence,kwon2016peekquence,liu2017patterns,wang2016unsupervised,liu2017coreflow,guo2018eventthread}. These methods have shown promising results since the data summary has a lower visual complexity. To further reduce the complexity and provide meaningful semantics, stage-based analysis can be used instead of event-based analysis. Stages and their progression patterns can be found in many event sequence datasets. For example, in online learning click streams analysis, when a student tries to finish an online assignment, he/she may first browse the assignment and then review the course material or ask questions on the course forum. Since many students follow the same steps to finish the assignment, this sequence of learning activities can be defined as a stage, while each activity is recorded as an event. The whole learning behavior of a student can be modeled as a progression of various stages. The benefits of presenting sequences with stages are two-fold: First, since the stage itself can be considered as a summary of events, the stage-based summary is in general more concise compared with the event-based summary. Therefore, it can handle more complex datasets, especially when the lengths of sequences vary a lot. Second, in many applications, stages contain high-level semantics, so users can easily understand the progression pattern without digging into detailed events.  

Extracting and analyzing stage progression patterns has been studied for medical data analysis []. However, providing a scalable and meaningful visual summary for stage analysis is still challenging due to the following reasons: First, traditional pattern mining models only preserve or prioritize statistically significant events and discard those insignificant events. Missing these insignificant events has the risk of misleading users on domain specific tasks. For example, in software application log analysis, a rarely occurred but fetal error may not be identified by the model but is important to the end users. Therefore, the summary should keep the detailed information and make sure users are aware of the individual variances within the summary. Second, level-of-detail analysis is useful in visual analysis, especially for large scale datasets. Besides extracting progression patterns, the visual summary should also characterize the hierarchical structure of the data so that users can drill down to local patterns interactively. 

In this paper, we propose StageMap, an event sequence summarization method which tries to present sequences with a set of stage progression patterns. Our method first extracts a set of frequently occurring stages. We support soft pattern matches when extracting stages so that later the individual variance is allowed and preserved in the stage progression patterns. We then develop an algorithm to transform the original sequences into a set of progression patterns. Each pattern represents a group of similar sequences and how the corresponding stages evolve over time. As in the online learning click streams analysis, a pattern can show a group of students who share similar learning behaviors and show how they gradually learn different topics and finish various course activities. Depends on the application scenario, different structure can be applied to present a progression pattern. Once the structure is fixed, the algorithm is designed to identify frequent progression patterns while also to minimize the visual complexity. The proposed algorithm can also preserve the hierarchical structure of the sequences so that each pattern can split into several detailed patterns. In this paper, to highlight the branching patterns between stages, we model each pattern into a tree structure while each node in the tree is a stage. We then design a visual analytics system to support visual analysis of the summary. The system has three linked views: the stage map view to show the summary of identified progression patterns, the tree view to represent the detailed events for a highlighted pattern and the sequence view to visualize each individual sequence. We further test our method on two real world datasets. 

To summarize, the main contributions of this work include: 
\begin{compactitem}
	\item A summarized representation of event sequences with a set of stage progression trees as well as an algorithm to transform raw sequences into the summary.
	\item An interactive visual analytics system which allows users to explore the summary of the data.
	\item Case studies with real world datasets to demonstrate the effectiveness of the approach.
\end{compactitem}




